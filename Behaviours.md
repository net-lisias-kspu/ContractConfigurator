## The BEHAVIOUR node

**_NEW!_**
The BEHAVIOUR node defines a contract behaviour - any behaviour that is at the contract level.  These can provide functionality for parameters, be used to persist data from contract to contract or any number of other things.

The following behaviours are natively supported by ContractConfigurator:

* [[Expression|Behaviours#expression]]
* [[OrbitGenerator|Behaviours#orbitgenerator]]
* [[SpawnKerbal|Behaviours#spawnkerbal]]
* [[WaypointGenerator|Behaviours#waypointgenerator]]

#### Expression
**_NEW!_** Behaviour for executing one or more expressions and storing the results in the persistent data store.

    BEHAVIOUR
    {
        name = Expression1
        type = Expression

        // The CONTRACT_ACCEPTED node gets executed when the contract is
        // accepted.
        CONTRACT_ACCEPTED
        {
            // Expressions can use arithmatic operators (+, -, *, /)
            // and parenthesis.
            CC_TestVal = 10 * 2 - 3 * 4
        }

        // The CONTRACT_COMPLETED_SUCCESS node gets executed when the
        // contract is completed successfully.
        CONTRACT_COMPLETED_SUCCESS
        {
            // Multiple expressions may be supplied in one node
            CC_TestVal = CC_TestVal * 2
            CC_EXPTEST_Success = 1
        }

        // The CONTRACT_COMPLETED_FAILURE node gets executed when the
        // contract fails, is withdrawn or the deadline expires.
        CONTRACT_COMPLETED_FAILURE
        {
            CC_TestVal = CC_TestVal / 2
            CC_EXPTEST_Success = 0
        }
    }

#### OrbitGenerator
**_COMING SOON!_**
Behaviour for generating orbits.

    BEHAVIOUR
    {
        name = OrbitGenerator1
        type = OrbitGenerator

        // Use this to generate an orbit with specific parameters
        FIXED_ORBIT
        {
            // Body for the orbit - defaulted from the contract if not supplied
            targetBody = Kerbin

            // Actual orbit details. Note that REF represents the reference
            // body - but will be overriden by the targetBody.
            ORBIT
            {
                SMA = 1449999.99996286
                ECC = 1.07570816555399E-05
                INC = 0
                LPE = 270.690311604893
                LAN = 1.93635924563296
                MNA = 1.55872660382504
                EPH = 31.3999999999994
                REF = 1
            }
        }

        // Use this to generate an orbit with some randomization
        RANDOM_ORBIT
        {
            // Body for the orbit - defaulted from the contract if not supplied
            targetBody = Kerbin

            // Type of orbit to generate.  Valid values are from
            // FinePrint.Utilities.OrbitType:
            //    EQUATORIAL
            //    KOLNIYA
            //    POLAR
            //    RANDOM
            //    STATIONARY
            //    SYNCHRONOUS
            //    TUNDRA
            type = KOLNIYA

            // Difficulty multiplier - generally makes the orbits harder to
            // reach if you increase it.
            // Default = 1.0
            difficulty = 10.0
        }
    }

#### SpawnKerbal
**_NEW!_** Behaviour for spawning one or more Kerbals on land or in orbit.

    BEHAVIOUR
    {
        name = SpawnKerbal1
        type = SpawnKerbal

        // The KERBAL node indicates a Kerbal to spawn and can be specified
        // multiple times.
        KERBAL
        {
            // If the name is not supplied, one will be autogenerated by KSP.
            name = Kerbediah Kerman

            // Whether the Kerbal should show up as owned or unowned.  If it is
            // owned, then it will be immediately selectable.
            // Default = false
            owned = true

            // Where the Kerbal should spawn - defaulted from the contract if
            // not supplied.
            targetBody = Kerbin

            // The ORBIT node indicates the orbit the Kerbal is in.  The
            // easiest way to get this information is to create the orbit
            // you want in KSP (using HyperEdit or good old fashioned
            // rocket science), and save your game.  In the persistant.sfs
            // file, search for your craft, and find the ORBIT node.
            //
            // Note that REF represents the reference body - but will be
            // overriden by the targetBody.
            ORBIT
            {
                SMA = 1449999.99996286
                ECC = 1.07570816555399E-05
                INC = 0
                LPE = 270.690311604893
                LAN = 1.93635924563296
                MNA = 1.55872660382504
                EPH = 31.3999999999994
                REF = 1
            }

            // If you wish to specify a landed Kerbal, you must also 
            // supply ALL of the following values from the persistant.sfs
            // file, AS WELL AS including the ORBIT node above.  In a
            // future release, I may try to look at ways to do it using
            // only lat-lon, but it's much more complicated, so it's not
            // a high priority...
            lat = 10.595910968977
            lon = 239.804476675472
            alt = 387.929475510377
        }
    }

#### WaypointGenerator
**_COMING SOON!_**
Behaviour for generating waypoints.

    BEHAVIOUR
    {
        name = WaypointGenerator
        type = WaypointGenerator

        // Use this to generate a waypoint with fixed coordinates
        WAYPOINT
        {
            // The name of the waypoint - displayed on the marker
            name = Kerbal Space Center

            // Body for the waypoint - defaulted from the contract if not
            // supplied.
            targetBody = Kerbin

            // The icon to use when displaying the waypoint.  At the moment
            // (0.90), this can only be icons under Squad/Contracts/Icons.
            // Perhaps that will change in a future release.
            icon = thermometer

            // The altitude of the waypoint.
            // Default: A random value between 0.0 and the atmosphere ceiling.
            // If there's no atmosphere, then always 0.0
            altitude = 0.0

            // The coordinates.
            latitude = -0.102668048654
            longitude = -74.5753856554
        }

        // Use this to generate a waypoint with random coordinates
        RANDOM_WAYPOINT
        {
            // The name of the waypoint - displayed on the marker
            name = A waypoint on Kerbin

            // Body for the waypoint - defaulted from the contract if not
            // supplied.
            targetBody = Kerbin

            // The number of waypoints to generate.
            // Default = 1
            count = 1

            // The icon to use when displaying the waypoint.  At the moment
            // (0.90), this can only be icons under Squad/Contracts/Icons.
            // Perhaps that will change in a future release.
            icon = thermometer

            // The altitude of the waypoint.
            // Default: A random value between 0.0 and the atmosphere ceiling.
            // If there's no atmosphere, then always 0.0
            altitude = 0.0

            // Whether the waypoint generated can be on water
            // Default = true
            waterAllowed = false

            // Force the waypoint to fall along the equator.  For boring
            // contracts.
            // Default = false
            forceEquatorial = false
        }

        // Use this to generate a waypoint with random coordinates, but near
        // another waypoint.
        RANDOM_WAYPOINT_NEAR
        {
            // The name of the waypoint - displayed on the marker
            name = A waypoint near something

            // Body for the waypoint - defaulted from the contract if not
            // supplied.
            targetBody = Kerbin

            // The number of waypoints to generate.
            // Default = 1
            count = 2

            // The icon to use when displaying the waypoint.  At the moment
            // (0.90), this can only be icons under Squad/Contracts/Icons.
            // Perhaps that will change in a future release.
            icon = thermometer

            // The altitude of the waypoint.
            // Default: A random value between 0.0 and the atmosphere ceiling.
            // If there's no atmosphere, then always 0.0
            altitude = 0.0

            // Whether the waypoint generated can be on water
            // Default = true
            waterAllowed = false

            // Zero based index of the waypoint to generate near.  Must be a
            // waypoint with index < this waypoint.  Start counting from the
            // first waypoint in the BEHAVIOUR, and count 1 for each value of
            // the count parameter (if it exists).
            nearIndex = 1

            // Maximum distance in meters from the 'near' waypoint.
            nearDistance = 25000.0
        }
    }
